<h1> Installation Topologies </h1>
<p style="text-align: right;"><em>Edge for Private Cloud v. 4.17.05</em></p>
<div>This section describes the Edge installation topologies, meaning the node configurations supported by Edge.&nbsp;</div>
<h2>All-in-one Installation</h2>
<p>A single host runs all Edge components. Note that this configuration is only to be used for getting started with Edge or for initial prototyping. It is not to be used as a deployment or production environment.</p>
<p><img alt="" src="../html/sites/docs/files/1-host-install.png" style="width: 160px; height: 200px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<h2>Standalone installation (2-host)</h2>
<p>In this scenario, a single host runs Gateway standalone servers and associated components — Apigee Management Server, Apache ZooKeeper, Apache Cassandra, OpenLDAP, Edge UI, Apigee Router, and Apigee Message Processor. The other host runs Analytics standalone components —Qpid Server and Postgres Server.</p>
<p><img alt="" src="../html/sites/docs/files/2-host-install(sa-sax).png" style="width: 374px; height: 200px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<h2>5-host clustered installation</h2>
<p>In this scenario, three hosts run ZooKeeper and Cassandra clusters. One of those three hosts also runs the Apigee Management Server, OpenLDAP, and Edge UI. Two of those three hosts also run Apigee Router + Message Processor. Two hosts run Apigee Analytics.</p>
<div class="note">
	<p>This scenario combines cluster and Gateway components to reduce the number of servers used. To achieve optimal performance, the cluster can also be deployed on three different servers. This scenario also introduces a master-standby replication between two Postgres nodes if analytics statistics are mission critical.<span class="Apple-tab-span" style="white-space:pre"> </span></p>
</div>
<p><img alt="" src="../html/sites/docs/files/5host-cluster-Setup.png" style="width: 728px; height: 189px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<p style="text-align: right;"><em>Edge for Private Cloud v. 4.16.09</em></p>
<h2>9-host clustered installation</h2>
<p>This scenario is similar to five-host clustered installation but has different Analytics components setup to achieve performance high availability.</p>
<div class="note">
	<p>This scenario introduces a master-standby replication between two Postgres nodes if Analytics statistics are mission critical.</p>
</div>
<p><img alt="" src="../html/sites/docs/files/9host-cluster-Setup.png" style="width: 550px; height: 378px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<p></p>
<h2>13-host clustered installation</h2>
<p>This scenario is an enhancement of nine-host clustered installation covering separate data zones for data and Apigee servers in one datacenter setup. Here LDAP is installed as an independent separate node.</p>
<div class="note">
	<p>This scenario uses master-master OpenLDAP replication and master-standby Postgres replication in one datacenter setup.</p>
</div>
<p><img alt="" src="../html/sites/docs/files/13host-cluster-Setup.png" style="width: 700px; height: 218px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<h2>12-host clustered installation</h2>
<p>This scenario covers disaster recovery and analytics high availability across two datacenters.&nbsp;</p>
<div class="note">
	<p>This scenario uses master-master OpenLDAP replication and master-standby Postgres replication (across two datacenters).</p>
</div>
<p><img alt="" src="../html/sites/docs/files/12host-install-setup.png" style="width: 700px; height: 245px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<p></p>
<h2>7-host and 10-host API BaaS Installation</h2>
<p>In this scenario, you install API BaaS on 10 hosts. The Cassandra nodes can be dedicated to API BaaS, or can be shared with Edge. This is the recommended configuration for highest performance because ElasticSearch requires a high amount of disk I/O and memory.</p>
<p><img alt="" src="../html/sites/docs/files/10host-cluster-api-backend.png" style="width: 700px; height: 225px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<p>As an alternative, you can install a 7-host topology where three hosts run the API BaaS Stack and ElasticSearch.&nbsp;</p>
<p><img alt="" src="../html/sites/docs/files/7host-cluster-api-backend.png" style="width: 697px; height: 277px; border-width: 1px; border-style: solid; margin: 15px;" /></p>
<p>In a BaaS installation with multiple data centers, each data center has either 7 or 10 nodes.&nbsp;</p>
<h2>Installing Monetization Services</h2>
<p>Monetization Services runs within any existing Apigee Edge setup. In this scenario, you install Monetization Services the Apigee Management Server and Message Processor. To install Monetization on Edge where the Edge installation has multiple Postgres nodes, the Postgres nodes must be configured in Master/Standby mode. You cannot install Monetization on Edge if you have multiple Postgres master nodes.</p>
