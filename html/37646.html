<h1> Installing Edge Microgateway </h1>
<p style="text-align: right;"><em>Edge Microgateway v. 2.4.x</em></p>
<h2>Audience</h2>
<p>Use this guide if you need to install or uninstall Edge Microgateway.</p>
<p>&nbsp;</p>
<div class="warning">If you are considering upgrading to v.2.3.3: If you have configured an HTTP proxy server for your Edge Microgateway setup,&nbsp;<strong>we recommend that you do not upgrade to version 2.3.3</strong>. The&nbsp;<strong>HTTP_PROXY</strong>&nbsp;variable and the&nbsp;<strong>edge_config:proxy</strong>&nbsp;and&nbsp;<strong>edge_config:proxy_tunnel</strong>&nbsp;config settings do not work in v. 2.3.3.
	<p>&nbsp;</p>
</div>
<h2>Prerequisites</h2>
<div class="note">
	<p><strong>Important:</strong>&nbsp;Edge Microgateway does not work with&nbsp;<a href="https://apigee.com/about/pricing/apigee-edge-pricing-features">Free Trial organizations</a>. If you have a Trial org and want to use Edge Microgateway,&nbsp;<a href="https://pages.apigee.com/contact-sales-reg.html?int_source=follow&amp;int_medium=website&amp;int_campaign=contact-us&amp;int_content=contact-us">contact Apigee sales</a>&nbsp;for more information.&nbsp;</p>
</div>
<ul>
	<li>You must have Node.js version&nbsp;4.5 LTS or later installed&nbsp;on your system. See additional Node.js instructions below.</li>
	<li>Windows requires&nbsp;<a href="https://www.openssl.org/">OpenSSL</a>&nbsp;to be installed and added to the&nbsp;<span style="font-family: &quot;courier new&quot;, courier, monospace;">PATH</span>.</li>
	<li>If you are using Apigee Edge Private Cloud to configure with Edge Microgateway, you must be running Private Cloud version&nbsp;<strong>4.16.01</strong>&nbsp;or later.&nbsp;</li>
</ul>
<h2>Installing Node.js</h2>
<p>You must have Node.js version&nbsp;<strong>4.5 or later</strong>&nbsp;installed&nbsp;on your system. You can check by executing:</p>
<pre>
<strong>node -v</strong></pre>
<p>There are many ways to obtain or update Node.js. For example, you can use HomeBrew, yum, or download it directly from the Node.js site:&nbsp;<code>https://nodejs.org/download.</code></p>
<h2>Installing Edge Microgateway if you have an internet connection</h2>
<p>This section explains how to install Edge Microgateway and initialize a default configuration.</p>
<ol>
	<li>Install the&nbsp;<strong>latest</strong>&nbsp;version of Edge Microgateway with&nbsp;<code>npm</code>&nbsp;using the following command.&nbsp;This command installs the software and puts the&nbsp;<code>edgemicro</code>&nbsp;executable in your path. See also&nbsp;<a href="#whereinstalled">Where is Edge Microgateway installed?</a>.
		<pre>
npm install edgemicro -g</pre>
		<p>To install a specific version of Edge Microgateway, you need to specify the&nbsp;<strong>version number</strong>&nbsp;in the installation command.&nbsp;<strong>If you do not specify the version number, the latest version will be installed.</strong>&nbsp;For example, to install version 2.3.1, use the following command.&nbsp;</p>
		<blockquote>
			<pre>
npm install edgemicro@2.3.1 -g</pre>
		</blockquote>
	</li>
	<li>Check the version number. For example, if you installed version 2.3.5:
		<pre>
<strong>edgemicro --version</strong>
current nodejs version is v6.1.0
current edgemicro version is 2.3.5</pre>
	</li>
	<li>Run this command to create a default configuration file in your home directory.
		<pre>
<strong>edgemicro init</strong></pre>
	</li>
	<li>(Optional) A config file called&nbsp;<code>default.yaml</code>&nbsp;file was placed in your home directory in a subdirectory called<code>&nbsp;.edgemicro</code>. Check now to be sure this file exists:
		<pre>
<strong>ls ~/.edgemicro
default.yaml</strong></pre>
		<p><strong>Note:&nbsp;</strong>In the Edge Microgateway docs, we refer to the home directory with the tilde (<code>~</code>), which is a UNIX shortcut. If you're on Windows, if you're running a shell that does not support the tilde, you will need to substitute the appropriate environment variable for the tilde in commands that reference the home directory. For example:&nbsp;<code>%USERPROFILE%/.edgemicro</code>.</p>
	</li>
	<li>Follow the steps in <a href="http://docs.apigee.com/node/37651">http://docs.apigee.com/node/37651</a>.</li>
</ol>
<h2>Operating Edge Microgateway on Windows as a Service</h2>
<p>You can operate Edge Microgateway on Windows as a service. For details, see&nbsp;<a href="https://community.apigee.com/questions/32916/best-practices-for-operational-management-of-micro.html">Best practices for operational management of Microgateway (edgemicro) on Windows</a>&nbsp;on the Apigee Community.</p>
<h2>Can I install Edge Microgateway without an internet connection?</h2>
<p>On sites that do not have ready internet access, it is possible for an administrator to install and maintain a&nbsp;<a href="https://docs.npmjs.com/misc/registry#can-i-run-my-own-private-registry">private npm registry</a>&nbsp;on your internal network. Instructions for setting up a private&nbsp;<code>npm</code>&nbsp;registry are beyond the scope of this guide; however, you can search for and find helpful instructions. With a private&nbsp;<code>npm</code>&nbsp;registry installed, you can follow the installation instructions given above.</p>
<h2>Getting started</h2>
<p>If you're new to Edge Microgateway, the <a href="http://docs.apigee.com/node/37651">http://docs.apigee.com/node/37651</a>&nbsp;&nbsp;is the best place to start after you complete the install. The setup and configuration guide covers all the steps you need to do to install, configure, start, and use an instance of Edge Microgateway.</p>
<h2><a id="whereinstalled" name="whereinstalled"></a>Where is Edge Microgateway installed?</h2>
<p>When you use&nbsp;<code>npm</code>&nbsp;with the global option (<code>npm install -g edgemicro</code>), the software is installed in&nbsp;<code>[prefix]/lib/node_modules/edgemicro</code>. You can find the value of<code>&nbsp;[prefix]</code>&nbsp;with this command:</p>
<pre>
<strong>npm config get prefix</strong></pre>
<p>The value of&nbsp;<code>[prefix]</code>&nbsp;is configurable. See&nbsp;<a href="https://docs.npmjs.com/files/folders">npm-folders</a>&nbsp;for more information.&nbsp;</p>
<h2>Uninstalling&nbsp;Edge Microgateway</h2>
<p>If you need to remove Edge Microgateway:</p>
<ol>
	<li>Delete or archive the installation directory&nbsp;<code><strong>[prefix]/lib/node_modules/edgemicro</strong></code>, where [prefix] is the npm prefix as explained in&nbsp;<a href="https://docs.apigee.com/microgateway/v2.4.x/installing-edge-microgateway-v2.4.x#whereisedgemicrogatewayinstalled">Where is Edge Microgateway installed</a>?</li>
	<li>Delete or archive the log files. By default,&nbsp;<code><strong>edgemicro-*.log</strong></code>&nbsp;files are in&nbsp;<code><strong>/var/tmp/</strong></code>, but this location is configurable. Check configuration file if in doubt, as explained in "<a href="https://docs.apigee.com/microgateway/v2.4.x/operation-and-configuration-reference-edge-microgateway-v2.4.x#managinglogfiles">Managing log files</a>."</li>
	<li>Delete or archive the runtime config and cache config files:
		<pre>
<strong>~/.edgemicro/*.yaml</strong></pre>
	</li>
</ol>
