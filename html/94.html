<h1> Analytics Services overview </h1>
<p>[toc]<span style="font-size: 12px;">&nbsp;</span></p>
<p>This topic introduces Apigee Edge Analytics Services. &nbsp;</p>
<h2>Improve your API through analytics</h2>
<p>Apigee Edge Analytics Services collects and analyzes a wealth of information that flows through APIs. This information is gathered, analyzed, and provided to you immediately,<strong>&nbsp;</strong>in real time. How is your API traffic trending over time? Who are your top developers? When is API response time fastest? Slowest? Are you attracting more developers? Geographically where do you see the most API traffic?&nbsp;</p>
<p>The answers to questions like these help you improve your APIs, attract the right app developers, troubleshoot problems, and, ultimately, make better business decisions related to your API program.</p>
<h2>Insight that leads to action</h2>
<p>Let's say your API has gained wide adoption. It's&nbsp;<em>popular</em>. You have attracted a number of talented, creative app developers and people are downloading and installing their apps. Obviously, the API team is very interested in how the API is performing, how it's being used, and how to plan for improvements.&nbsp;</p>
<p><img alt="" src="sites/docs/files/analyticsOverview7.png" style="width: 401px; height: 192px;" /></p>
<p>To plan those improvements, the API team needs to know as much as they can about how the API is used in the real world. How is it performing? Who is using it? What are the traffic patterns? They need&nbsp;<strong>insight</strong>. They need to know:</p>
<ul>
	<li>What's changed? Knowing when and where something about an API changed helps you to take corrective action.</li>
	<li>What are our&nbsp;<strong>top apps</strong>? You need to know who/which apps are using your API.</li>
	<li>Who are our&nbsp;<strong>best app developers</strong>? Your best users and developers might be operating with you across multiple apps and devices, such as website, mobile apps, video game consoles, and tablets.</li>
	<li>Which API&nbsp;<strong>methods</strong>&nbsp;are most popular?&nbsp;Your API is a product; you want to understand its usage to help pivot your business and make future investment decisions.</li>
	<li>How much API&nbsp;<strong>capacity</strong>&nbsp;will be needed next year?&nbsp;Capacity planning is difficult. What if your API goes viral and you have millions of users? You need trending usage data to help make these decisions. In this context, you want to see indicators in the trend charts like the number of requests (the load hitting the backend systems), volume of data (especially for API responses), and so on.</li>
	<li>Why is the API down?&nbsp;Thereâ€™s probably not one thing to tell you why an API is down, but the shape of your graphs can help. Do your charts show catastrophic failure or a slow lead-in to failure?</li>
</ul>
<p>Through a continual process of&nbsp;<strong>collecting</strong>,&nbsp;<strong>analyzing</strong>, and&nbsp;<strong>visualizing</strong>&nbsp;API metrics, Analytics Services helps your API team&nbsp;<strong>act</strong>&nbsp;to improve their APIs.&nbsp;Out-of-the-box, Analytics Services supports and encourages this pattern of collect, analyze, visualize, and act.&nbsp;</p>
<h2>What kind of data is collected and analyzed?</h2>
<p>Analytics Services collects and analyzes a broad spectrum of data that flows across APIs. For example, while your API is deployed, the analytics system is constantly counting and analyzing metrics like the&nbsp;<strong>number of messages received</strong>,&nbsp;<strong>number of developers</strong>,&nbsp;<strong>response times</strong>,&nbsp;<strong>errors</strong>,&nbsp;<strong>number of apps in use</strong>,&nbsp;<strong>request size</strong>, and many others. For a good introduction to metrics and how you can use them, see <a href="http://docs.apigee.com/node/428">http://docs.apigee.com/node/428</a>. For a complete listing of metrics, see <a href="http://docs.apigee.com/node/8409">http://docs.apigee.com/node/8409</a>.</p>
<p><img alt="" src="sites/docs/files/traffic-comp-main.png" style="width: 700px; height: 347px; border-width: 1px; border-style: solid;" /></p>
<p>You can also create&nbsp;<strong>custom metrics</strong>&nbsp;by wiring together features of Analytics Services and API Services. For example, you can create a policy designed to extract certain information from an API (from request headers, for instance). Once extracted, you can use the analytics API to analyze and return the data. For example, you might ask: When does the highest response time usually occur for a specific API? The answer to a question like this might help your Ops team plan for anticipated network loads.&nbsp;See <a href="http://docs.apigee.com/node/4554">http://docs.apigee.com/node/4554</a> for a nice end-to-end example demonstrating this technique.</p>
<h2>A new breed of data</h2>
<p>You've stored and collected metrics on system performance, you've collected error logs, you've collected user data, and you've collected many other kinds of data related to your business systems and the applications that run on them. Often this data is collected and stored in data warehouses where it is organized and possibly analyzed in predictable ways according to traditional models like ETL (extract, transform, load).&nbsp;</p>
<p>With the rapid adoption of APIs and a mobile apps economy, understanding what to measure is less predictable than it once was. Third-party app developers have access to your APIs. Users are on the go. They have smart phones, tablets, and other mobile devices. Some may never use a browser. In this rapidly shifting environment, you need to know exactly how, when, and where they are interacting with your APIs. You need to know how your APIs are performing right now, in real time.</p>
<div class="video">
	<p><strong>Video:&nbsp;</strong>For more about this perspective, check out this short video.&nbsp;It&nbsp;explains how API data is a new breed of data, that exists&nbsp;<strong>at the edge</strong>&nbsp;of your enterprise, and that is critical to the success of your API program.&nbsp;<span style="font-size: 12px;">&nbsp;</span></p>
	<div class="collapse" id="demo2">
		<div style="text-align: left;">
			<p><iframe allowfullscreen="" frameborder="0" height="400" src="https://www.youtube.com/embed/Lx1FyAS58w0" width="560"></iframe></p>
		</div>
	</div>
	<div id="collapsible_2"><a class="btn" data-toggle="collapse" href="#demo2">Show/Hide Video</a></div>
</div>
<h2>Put analytics up front (a best practice)</h2>
<p>Apigee encourages API teams to put analytics up front. Think of analytics as <strong>your API's peer</strong>, as an integral part of your API program from the beginning, not as something you consider or decide to add later in your API program.</p>
<p><span style="font-size: 12px;"><img alt="" src="sites/docs/files/analyticsOverview10.png" style="width: 246px; height: 235px;" />&nbsp;</span></p>
<p>Analytics can provide key information at the beginning of your API program to help you improve your API and the experience of app developers who use it. As your API program matures, analytics lends insight that can inform key business decisions.&nbsp;<span style="font-size: 12px;">&nbsp;</span></p>
<h2>Your API at a glance</h2>
<p>Analytics Services provides several visualization tools, including the Dashboard, custom reports, GeoMap, and tools that visualize trends in API proxy performance.&nbsp;For now, let's take a quick look at three of these tools: the <strong>Dashboard</strong>,&nbsp;<strong>proxy resource performance view</strong>, and<strong> custom reports.&nbsp;</strong></p>
<h3>The Dashboard</h3>
<p>The analytics Dashboard gives an overall view of your entire API program. You can toggle the dashboard between the&nbsp;<strong>API program view</strong>, which gives you a sense of overall API performance, and <strong>API top performer view</strong>, which tells you about your top performing APIs, apps, developers, and API products. You can select a time interval (hour, day, week, month) over which the data is plotted or specify a custom timespan.&nbsp;You can also mouse over any point on a plot to see in greater detail what was happening at that point.&nbsp;</p>
<p><img alt="" src="sites/docs/files/ax-overview-1.png" style="width: 700px; height: 484px; border-width: 1px; border-style: solid;" /></p>
<h3>Proxy resource performance view</h3>
<p>You also can track performance metrics for individual URIs (resources) for a specific API proxy on the <strong>Performance</strong> tab for any API proxy in the proxy editor.</p>
<p>&nbsp;</p>
<h3>Custom reports</h3>
<p>The custom report feature lets you select, combine, filter, and drill down into specific API metrics. You can generate reports that contain the exact data that you want to see. Reports can be viewed in the UI, exported to CSV, PDF, or PNG files. In addition, you can&nbsp;create your own analytics dashboard and populate it with custom reports that you select.</p>
<p><img alt="" src="sites/docs/files/Custom reports list.png" style="width: 600px; height: 141px;" /></p>
<p>For more information about the visualization tools provided by Analytics Services, see <a href="http://docs.apigee.com/node/17">http://docs.apigee.com/node/17</a>. For more information on custom reports, see <a href="http://docs.apigee.com/node/338">http://docs.apigee.com/node/338</a>.</p>
<h2>Fetch analytics data with the REST API</h2>
<p>Using the Analytics Services API, you can access a wide variety of operational and business data that flows across your APIs. For example, using REST calls, you can determine which APIs are performing well or poorly, which developers are delivering the highest value traffic, and which apps are causing the most issues for your backend services.</p>
<div class="note">The analytics dashboard is implemented using the REST API.</div>
<p>You can use the REST API when you need to automate certain analytics functions, such as retrieving metrics periodically using an automation client or script. You can also use the API to build your own visualizations in the form of custom widgets that you can embed in portals or custom apps. The API can also be used to provide custom analytics to certain app developers or communities of app developers.&nbsp;</p>
<p>Here's an example analytics REST API call:</p>
<pre class="terminal">
$ curl  https://api.enterprise.apigee.com/v1/o/{org_name}/environments/test/stats/apiproxy?"select=sum(message_count)&amp;timeRange=6/24/2017%2000:00~6/24/2017%2023:59&amp;timeUnit=hour" \
-u email:password</pre>
<p>This call tells you how many request messages were received on an hourly basis, grouped by all API proxies, on 6/24/2017 (00:00 to 23:59 UTC time). (%20 is a URL-encoded space.)</p>
<p>To read all about the REST API for analytics, see <a href="http://docs.apigee.com/node/428">http://docs.apigee.com/node/428</a>.</p>
<h2>Share data with app developers</h2>
<p>When you think of app developers as your customers, you'll want to make sure they have the tools and information available to them to make the best use of your API. Ultimately, you want the people who use their apps (and your products and services) to be happy.</p>
<p><img alt="" src="sites/docs/files/analyticsOverview6.png" style="width: 412px; height: 192px;" /></p>
<p>Analytics Services provides a wealth of information that app developers can use to improve their apps. App developers are not only concerned about the quality of their apps, they are very interested in your API. How is it performing? Is it error prone? Is it sometimes unavailable? How does it respond to traffic spikes?&nbsp;Answers to these questions are crucial to the app developer who wants to deliver the best possible experience to her (your) customers!</p>
<p>First, the developer portal includes an optional <strong>App Performance</strong> page designed to give app developers access to important metrics for their apps. This page gives developers information about:&nbsp;</p>
<ul>
	<li><b>Errors:</b>&nbsp;Which API errors is my app seeing?&nbsp;What is the rate of errors? Where are they appearing in the code?&nbsp;</li>
	<li><b>Performance:</b>&nbsp;Is the API slow right now?&nbsp;Which API methods are typically slow or slow at the moment?&nbsp;</li>
	<li><b>Availability:</b>&nbsp;Is the API up or down right now?&nbsp;When will the API be back up? Why was the API down?</li>
	<li><b>Quota:</b>&nbsp;Does your API have a quota? And as the app developer, how am I doing against the quota? Am I violating the quota?&nbsp;</li>
</ul>
<p>You can also create custom reports and share them with your app developers. For more information, see <a href="http://docs.apigee.com/node/338">http://docs.apigee.com/node/338</a>.</p>
<p>Finally, organization administrators can use the analytics management API to capture data over a wider period of time to share with app developers offline. For more information, see <a href="http://docs.apigee.com/node/428">http://docs.apigee.com/node/428</a>.<span style="font-size: 12px;">&nbsp;</span></p>
<h2>Receive daily summary reports</h2>
<p><a href="http://docs.apigee.com/node/23811">Content to be inserted here</a></p>
<p>Organization Administrators can opt in and out of being emailed daily analytics reports. In the management UI, select <strong>username &gt; User Settings</strong>, and select or deselect the <strong>Receive daily analytics summary report</strong> option. You can also use the&nbsp;<a href="http://apigee.com/docs/management/apis/get/organizations/%7Borg_name%7D/stats/preferences/reports/dailysummaryreport">/stats/preferences/dailysummaryreport API</a> to subscribe or unsubscribe from daily analytics emails. For example, to opt out, use:</p>
<pre>
https://api.enterprise.apigee.com/v1/organizations/{org}/stats/preferences/reports/dailysummaryreport?optin=false</pre>
<h2>Learn as you go (another best practice)</h2>
<p>With the analytics tools provided by Apigee, you can collect and monitor a lot of data, which can be overwhelming. Apigee recommends that you start slowly by collecting and analyzing a few key metrics. Use what you learn to improve your APIs and the apps that use them. As you are successful, you can collect and analyze more data to make further improvements. Ultimately, API analytics can provide a powerful 360-degree view of your entire API ecosystem and help you improve your overall business.</p>
<h2>Bottom line: API Analytics helps everyone improve</h2>
<p>From the app developer to the business owner, <strong>API analytics help everyone improve</strong>.&nbsp;</p>
<p><img alt="" src="sites/docs/files/analyticsOverview8.png" style="width: 421px; height: 410px;" /></p>
<ul>
	<li><strong>API Team</strong>&nbsp;- The API team is tapping into internal systems to create interesting APIs.&nbsp;The&nbsp;<strong>API team</strong>&nbsp;wants to know how the API program is doing overall, how individual APIs are doing, and how to improve their APIs.&nbsp;</li>
	<li><strong>App Developers</strong>&nbsp;- By sharing analytics information with&nbsp;<strong>app developers</strong>, you get better apps. These developers are innovating with your API and building creative apps that help drive revenue to your enterprise. Analytics help app developers&nbsp;know how their apps are doing and how much they are contributing to the bottom line of your enterprise.&nbsp;App developers want to know how they can improve their apps. Ultimately, everyone wants happy end users.&nbsp;</li>
	<li><strong>Ops Team</strong>&nbsp;-&nbsp;Equally, the&nbsp;<strong>operations team</strong>&nbsp;wants to understand traffic patterns and anticipate when to add backend resources or make other critical adjustments.&nbsp;</li>
	<li><strong>Business Owner&nbsp;</strong>- &nbsp;The&nbsp;<strong>business owner</strong>&nbsp;wants to see how her API investment is paying off and where to invest API dollars in the future. Ultimately, the business owner wants to improve her business.</li>
</ul>
<h2>Next steps</h2>
<ul>
	<li><a href="http://docs.apigee.com/node/17">http://docs.apigee.com/node/17</a></li>
	<li><a href="http://docs.apigee.com/node/338">http://docs.apigee.com/node/338</a></li>
	<li><a href="http://docs.apigee.com/node/428">http://docs.apigee.com/node/428</a></li>
	<li><a href="http://docs.apigee.com/node/4554">http://docs.apigee.com/node/4554</a></li>
</ul>
<p>&nbsp;</p>
